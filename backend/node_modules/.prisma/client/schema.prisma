generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model ContactSettings {
  id             Int      @id @default(1)
  phoneNumber    String
  whatsappNumber String
  emailAddress   String
  updatedAt      DateTime @updatedAt
}

model CatalogFile {
  id         Int      @id @default(autoincrement())
  fileUrl    String
  fileName   String
  version    String?
  uploadedAt DateTime @default(now())
  isCurrent  Boolean  @default(false)
}

model User {
  id           Int      @id @default(autoincrement())
  email        String   @unique
  passwordHash String
  createdAt    DateTime @default(now())
}

model Product {
  id          Int      @id @default(autoincrement())
  name        String
  description String
  imageUrl    String
  category    String
  price       Float?
  rating      Float?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model StoreLocation {
  id        Int      @id @default(autoincrement())
  name      String
  address   String
  lat       Float
  lng       Float
  phone     String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model AboutPage {
  id                      Int           @id @default(1)
  heroImage               String
  story                   String
  stats                   String
  manufacturingExcellence String
  updatedAt               DateTime      @updatedAt
  teamProfiles            TeamProfile[]
}

model TeamProfile {
  id          Int       @id @default(autoincrement())
  aboutPage   AboutPage @relation(fields: [aboutPageId], references: [id])
  aboutPageId Int
  name        String
  imageUrl    String
}

model DistributorPage {
  id              Int                @id @default(1)
  infoSections    String
  requirements    String
  supportServices String
  updatedAt       DateTime           @updatedAt
  stories         DistributorStory[]
}

model DistributorStory {
  id                Int             @id @default(autoincrement())
  distributorPage   DistributorPage @relation(fields: [distributorPageId], references: [id])
  distributorPageId Int
  title             String
  content           String
  imageUrl          String
}
